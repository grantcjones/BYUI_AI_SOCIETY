#--------------------------------------------------------------------------------------------------------------
#?    Dependancies + Globals
#--------------------------------------------------------------------------------------------------------------

import json                               # For context demonstration. This isn't important for AI.
import ollama
MODEL = "llama3.2"                        # The model we'll be using.

from simplify import clear                # Not important either. This just clears the terminal.

#--------------------------------------------------------------------------------------------------------------
#?    Just the text. You won't see anything happen until all text has been generated.
#--------------------------------------------------------------------------------------------------------------

print("--------------------------------------------------------------------------------------------------------")


prompt = "What's 5+5?"
print(prompt)

print("--------------------------------------------------------------------------------------------------------")

output = ollama.generate(MODEL, prompt)
this_context = output.context                                         #* This is where you grab its memory
print(output.response)

input("--------------------------------------------------------------------------------------------------------")
clear()

print("--------------------------------------------------------------------------------------------------------")

prompt = "Add another 5 to that."
print(prompt)

print("--------------------------------------------------------------------------------------------------------")

output = ollama.generate(MODEL, prompt, context=this_context)  #* This is where you USE its memory
print(output.response)

input("--------------------------------------------------------------------------------------------------------")
clear()

#--------------------------------------------------------------------------------------------------------------
#?    A review of what the looks like
#--------------------------------------------------------------------------------------------------------------

input("Press any key to save the context from earlier saved to context.json ")
with open('Week 2 - Demonstration/context.json', 'w') as f:
    json.dump(this_context, f)

#--------------------------------------------------------------------------------------------------------------
#     End of
#--------------------------------------------------------------------------------------------------------------
